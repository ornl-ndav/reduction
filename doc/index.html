<!--$Id$-->
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
         "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<title>SNS Common Libraries Documentation Main Page</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="material/style.css" rel="stylesheet" type="text/css">
</head>
<body>

<center>
<img src="images/sns-logo.png" />
</center>

<h1>SNS Common Libraries Documentation</h1>

<h2>Interface Documentation (Version: 1.3.2)</h2>
<a href="html_cpp/index.html"><h3>C++</h3></a>
<a href="html_python/index.html"><h3>Python</h3></a>

<h2>Tutorials</h2>
<a href="tutorials/pal_nv_tutorial.html">Python Abstraction Layer</a>

<h2>Rules of the Library</h2>
<p>
To provide the greatest inter-language and inter-facility operability, the 
base functionality of the SNS Common Libraries will be implemented as C++ 
functions. Every C++ function will have an analogous function call in the 
library's Python Abstraction Layer.
</p>
<p>The C++ functions will follow a set of rules that will provide the 
application programmer with confidence that the library is well-formed, does 
not affect outside systems and does not maintain state. The rules are:
</p>
<ol>
<li>There will be no global/package variables.</li>
<li>There will be no side effects.</li>
<li>They will be thread safe.</li>
<li>They will neither allocate nor de-allocate any persistent resources. This 
    allows for allocating (and de-allocating) temporary memory for 
    calculations.</li>
<li>There will be at least one smoke test for every function.</li>
<li>Functions will create no heap memory. The functions will need to be passed 
    the arguments, space for the results, and space for any temporary storage 
    needed. To notify the caller of how much memory is needed for temporary 
    space, any function that uses temporary space may have a related utility 
    function that returns information on the amount of temporary storage 
    needed. If the user passes in null pointers for the temporary storage the 
    function is intended to allocate and de-allocate what is needed.</li>
<li>The functions will return a warning string when non-fatal errors are 
    encountered.</li>
</ol>

<h2>Template Types</h2>
<p>
In various sections of the library the user will encounter the template types:
</p>
<ul>
<li>NumT - Any numeric type</li>
<li>T - Any type that vector supports</li>
</ul>

<h2>Function Naming Conventions</h2>
<p>
To make the library easier to navigate without documentation there are some 
naming conventions that were created.
</p>
<ul>
<li><em>_ncerr</em> This extension denotes that the function calculations
     the uncertainties assuming non-correlated errors</li>
</ul>

<h2>Definitions</h2>

<h3>Histogram</h3>
<p>
Some functions in the library assume that the information supplied is a 
histogram. A histogram is defined as a list of bin boundaries and a weight 
contained with within the boundaries. In practical terms this means that the 
independant variable array has one more value than the function array.
</p>
<p>
The other requirement of histograms is that their independent axis is 
monotonically increasing. Note that this does require that the bins are of 
equal size.
</p>

<h2>Library Coordinate System</h2>
<center>
<img src="images/Coordinates.jpg" />
</center>
<p>
The figure shown above shows the coordinate system assumed by the SNS Common 
Libraries. This system was chosen to coincide with the coordinate system 
chosen for <a href="http://www.nexusformat.org">NeXus</a>.
</p>
</body>
<iframe src="material/security.html" frameborder=0 width=100% height=150>
</iframe>
</html>
